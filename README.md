# Criipto.FSharp.Analyzers

A set of [F# analyzers](https://ionide.io/FSharp.Analyzers.SDK/) which warn against code issues previously encountered by Criipto.

## Build
You should be able to build the project by simply running `dotnet build`.

## Test
You can test the analyzers by running `dotnet test`.

The test suite works by running each analyzer on a number of test programs.
There are two kinds of tests for the analyzers: positive and negative.

Positive tests check that the analyzer reports issues correctly when presented with a faulty program.
Positive tests run the analyzer on each test program and record the messages generated by the analyzer.
They then check that there is at least one message, and compare the generated messages with a snapshot to check that the analyzer does not change its behavior unintentionally.
If the snapshot does not match, the test suite will fail and generate a `__mismatch__` directory containing the new messages so you can compare them with the snapshots while debugging your code.
If you are intentionally changing the behaviour of an analyzer and want to update the snapshots to reflect this, overwrite the old snapshots with the new snapshots generated in the `__mismatch__` directory after running the test suite.

Negative tests check that the analyzer does not report issues on correct programs.
Negative tests run the analyzer on each test program and check that the analyzer does not produce any messages.

## Usage
Run `dotnet pack --configuration Release` to generate a NuGet package (in the `bin/Release` directory).
You can then use the NuGet package like any other F# analyzer.